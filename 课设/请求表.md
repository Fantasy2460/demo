# 一.user（/user）

## 1.正常请求

## （1）注册(/)

**请求体包含：**

![image-20240510162318261](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162318261.png)

**正常接收：**

![image-20240510162350339](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162350339.png)

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

## （2）登录(/login)

**请求体包含：**

![image-20240510162459264](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162459264.png)

**正常接收：**

![image-20240511223122383](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240511223122383.png)

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)



### (3)上传头像(/upload)

请求体包含：

json名为file

**正常接收：**

![image-20240511235730268](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240511235730268.png)

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

## 2.websocket请求



# 二.usertouser(/usertouser)

## 1.正常请求

### （1）更改好友信息(/update)

**请求体包含：**

![image-20240510162156717](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162156717.png)

**正常接收：**

nil

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

### （2）删除自己的消息(/delete)

**请求体包含：**

![image-20240510152632062](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152632062.png)

**正常接收：**

nil

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

### （3）删除自己与某用户的所有信息(/deletes)

**请求体包含：**

![image-20240510204626144](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510204626144.png)

**正常接收：**

nil

**异常接收：**

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)



### （4）根据该用户id查找所有的用户-用户的聊天信息(/fid)

请求体包含：

nil

正常接收：

​			[]UserResponse

![image-20240511235322575](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240511235322575.png)

![image-20240510204128539](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510204128539.png)

![image-20240511235355586](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240511235355586.png)

异常接收：

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

### (5)消息已读(/read)

请求体包含:

![image-20240510204626144](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510204626144.png)

正常接收：

nil

异常接收:

![image-20240510162018715](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510162018715.png)

## 2.websocket请求

错误异常处理type属性为：auth

第一次请求验证信息请求体均是：

![image-20240510152221132](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152221132.png)

token验证失败均是：

![image-20240510152354784](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152354784.png)

### （1）创建对话(/)

**请求体包含：**

![image-20240510152049677](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152049677.png)

**正常接收：**

![image-20240510152921584](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152921584.png)

**异常接收：**

![image-20240510151750375](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510151750375.png)

### （2）撤回消息(/revocation)

**请求体包含：**

![image-20240510152632062](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510152632062.png)

**正常接收：**

![image-20240510153210908](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510153210908.png)

**异常接收：**

![image-20240510151750375](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510151750375.png)

### （3）发送消息(/send)

**请求体包含：**

![image-20240510153325492](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510153325492.png)

**正常接收：**

![image-20240510153205716](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510153205716.png)

**异常接收：**

![image-20240510151750375](C:\Users\t't\AppData\Roaming\Typora\typora-user-images\image-20240510151750375.png)



